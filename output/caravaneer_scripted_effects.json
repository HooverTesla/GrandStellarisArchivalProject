{
  "cara_home_return": {
    "cara_home_return": {
      "hidden_effect": {
        "_comments": [
          "#remove_country_flag = cara_home_convo",
          "# commented out for reworked cara.100 trigger"
        ],
        "country_event": {}
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 1
  },
  "cara_fleet1_return": {
    "cara_fleet1_return": {
      "hidden_effect": {
        "country_event": {}
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 9
  },
  "cara_fleet2_return": {
    "cara_fleet2_return": {
      "hidden_effect": {
        "country_event": {}
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 15
  },
  "cara_fleet3_return": {
    "cara_fleet3_return": {
      "hidden_effect": {
        "country_event": {}
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 21
  },
  "cara_generate_dealexample": {
    "cara_generate_dealexample": {
      "if": {
        "_comments": [
          "# repeat existing price for 1 year, otherwise refresh flag"
        ],
        "limit": {
          "NOR": {
            "has_country_flag": "fleet1dealcost6"
          }
        },
        "random_list": {
          "1": {
            "1": {
              "1": {
                "1": {
                  "1": {
                    "1": {}
                  },
                  "_comments": [
                    "# PRODUCT"
                  ],
                  "if": {
                    "_comments": [
                      "# repeat existing product for 1 year, otherwise refresh flag"
                    ],
                    "limit": {
                      "NOR": {
                        "has_country_flag": "fleet1dealproduct6"
                      }
                    },
                    "random_list": {
                      "_comments": [
                        "# Slave Pop"
                      ],
                      "1": {
                        "modifier": {
                          "factor": "0",
                          "allows_slavery": "no"
                        },
                        "set_timed_country_flag": {},
                        "_comments": [
                          "# Destroyer (own design)"
                        ],
                        "1": {
                          "modifier": {
                            "factor": "0",
                            "NOT": {},
                            "create_fleet": {
                              "effect": {
                                "set_owner": "root",
                                "create_ship": {
                                  "name": "random",
                                  "random_existing_design": "destroyer"
                                },
                                "if": {
                                  "limit": {
                                    "set_location": "event_target:caravaneer_fleet1_fleet.solar_system.star"
                                  },
                                  "else": {
                                    "set_location": "root.capital_scope"
                                  }
                                }
                              },
                              "set_timed_country_flag": {},
                              "1": {
                                "set_timed_country_flag": {},
                                "1": {
                                  "set_timed_country_flag": {},
                                  "1": {
                                    "set_timed_country_flag": {},
                                    "1": {
                                      "set_timed_country_flag": {}
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 30
  },
  "cara_execute_dealexample": {
    "cara_execute_dealexample": {
      "hidden_effect": {
        "_comments": [
          "# Cost"
        ],
        "if": {},
        "else_if": {
          "add_resource": {
            "custom_tooltip": "cost_500energy"
          },
          "else_if": {
            "random_controlled_ship": {
              "limit": {
                "delete_ship": "this"
              },
              "custom_tooltip": "cost_1cruiser"
            },
            "else_if": {
              "add_resource": {
                "custom_tooltip": "cost_5000food"
              },
              "else_if": {
                "while": {
                  "count": "1",
                  "random_owned_pop": {},
                  "custom_tooltip": "cost_3pops"
                },
                "else_if": {
                  "add_resource": {
                    "custom_tooltip": "cost_2000energy"
                  },
                  "_comments": [
                    "# Product"
                  ],
                  "if": {},
                  "else_if": {
                    "add_random_research_option": {
                      "custom_tooltip": "product_randomtech"
                    },
                    "else_if": {}
                  }
                }
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 125
  },
  "cara_generate_deal1": {
    "cara_generate_deal1": {
      "if": {
        "_comments": [
          "# repeat existing price for 1 year, otherwise refresh flag"
        ],
        "limit": {
          "NOR": {
            "has_country_flag": "fleet1dealcost6"
          }
        },
        "random_list": {
          "1": {
            "modifier": {
              "factor": "0",
              "has_ethic": "ethic_gestalt_consciousness"
            },
            "set_timed_country_flag": {},
            "1": {
              "1": {
                "1": {
                  "modifier": {
                    "factor": "0",
                    "has_modifier": "6monthsocietycost"
                  },
                  "set_timed_country_flag": {},
                  "0": {
                    "modifier": {
                      "add": "1",
                      "any_owned_fleet": {
                        "is_ship_class": "shipclass_science_ship",
                        "OR": {
                          "NOT": {
                            "AND": {
                              "exists": "leader",
                              "leader": {}
                            },
                            "any_owned_ship": {
                              "NOT": {}
                            }
                          },
                          "set_timed_country_flag": {},
                          "0": {
                            "modifier": {
                              "add": "1",
                              "has_ethic": "ethic_gestalt_consciousness"
                            },
                            "set_timed_country_flag": {}
                          }
                        },
                        "_comments": [
                          "# PRODUCT"
                        ],
                        "if": {
                          "_comments": [
                            "# repeat existing product for 1 year, otherwise refresh flag"
                          ],
                          "limit": {
                            "NOR": {
                              "has_country_flag": "fleet1dealproduct7 # Energy"
                            }
                          },
                          "random_list": {
                            "_comments": [
                              "# Bunk beds"
                            ],
                            "1": {
                              "modifier": {
                                "factor": "0.1",
                                "OR": {
                                  "has_country_flag": "bunkbeds_ready",
                                  "any_owned_planet": {}
                                },
                                "modifier": {
                                  "factor": "0",
                                  "is_regular_empire": "no"
                                },
                                "set_timed_country_flag": {},
                                "_comments": [
                                  "# Tupperware"
                                ],
                                "1": {
                                  "modifier": {
                                    "factor": "0.1",
                                    "OR": {
                                      "has_country_flag": "tupperware_ready",
                                      "any_owned_planet": {}
                                    },
                                    "modifier": {
                                      "factor": "0",
                                      "is_regular_empire": "no"
                                    },
                                    "set_timed_country_flag": {},
                                    "_comments": [
                                      "# Atmospheric Deodorizer"
                                    ],
                                    "1": {
                                      "modifier": {
                                        "factor": "0.1",
                                        "OR": {
                                          "has_country_flag": "atmospheric_deodorizer_ready",
                                          "any_owned_planet": {}
                                        },
                                        "modifier": {
                                          "factor": "0",
                                          "is_gestalt": "yes"
                                        },
                                        "set_timed_country_flag": {},
                                        "_comments": [
                                          "# Consumer Goods"
                                        ],
                                        "1": {
                                          "modifier": {
                                            "factor": "0",
                                            "is_machine_empire": "yes",
                                            "NOT": {},
                                            "set_timed_country_flag": {},
                                            "1": {
                                              "modifier": {
                                                "factor": "0",
                                                "OR": {
                                                  "is_gestalt": "yes",
                                                  "has_modifier": "vengralian_sales_contingent"
                                                }
                                              },
                                              "set_timed_country_flag": {},
                                              "_comments": [
                                                "# Spawn Pool Stimulants"
                                              ],
                                              "0": {
                                                "modifier": {
                                                  "factor": "0",
                                                  "has_modifier": "spawn_pool_stimulants"
                                                },
                                                "set_timed_country_flag": {},
                                                "_comments": [
                                                  "# Energy"
                                                ],
                                                "0": {
                                                  "modifier": {
                                                    "factor": "100",
                                                    "has_ethic": "ethic_gestalt_consciousness",
                                                    "has_country_flag": "fleet1dealcost6"
                                                  },
                                                  "set_timed_country_flag": {}
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 182
  },
  "cara_execute_deal1": {
    "cara_execute_deal1": {
      "hidden_effect": {
        "_comments": [
          "# Cost"
        ],
        "if": {
          "while": {
            "count": "1",
            "random_owned_pop": {
              "limit": {
                "kill_pop": "yes"
              }
            },
            "custom_tooltip": "fleet1cost1_tooltip",
            "remove_country_flag": "fleet1dealcost1"
          },
          "else_if": {
            "add_resource": {
              "tooltip": {
                "remove_country_flag": "fleet1dealcost2"
              },
              "else_if": {
                "add_resource": {
                  "tooltip": {
                    "remove_country_flag": "fleet1dealcost3"
                  },
                  "else_if": {
                    "custom_tooltip": "fleet1dealcost5_tooltip",
                    "random_controlled_fleet": {
                      "limit": {
                        "is_ship_class": "shipclass_science_ship",
                        "OR": {
                          "NOT": {
                            "AND": {
                              "exists": "leader",
                              "leader": {}
                            },
                            "any_owned_ship": {
                              "NOT": {}
                            },
                            "_comments": [
                              "# exile science officer from ship",
                              "# and reinstate into pool",
                              "# Product"
                            ],
                            "if": {
                              "set_country_flag": "bunkbeds_ready",
                              "custom_tooltip": "fleet1product1_tooltip",
                              "remove_country_flag": "fleet1dealproduct1"
                            },
                            "else_if": {
                              "add_resource": {
                                "tooltip": {
                                  "remove_country_flag": "fleet1dealproduct4"
                                },
                                "else_if": {
                                  "add_resource": {
                                    "tooltip": {
                                      "remove_country_flag": "fleet1dealproduct7"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 359
  },
  "cara_generate_deal2": {
    "cara_generate_deal2": {
      "if": {
        "_comments": [
          "# repeat existing price for 1 year, otherwise refresh flag"
        ],
        "limit": {
          "NOR": {
            "has_country_flag": "fleet2deal12 # Minor Artifacts"
          }
        },
        "random_list": {
          "100": {
            "modifier": {
              "factor": "0",
              "OR": {
                "has_ethic": "ethic_gestalt_consciousness",
                "has_country_flag": "nuumismatic_shrine",
                "any_owned_planet": {
                  "OR": {
                    "has_building": "building_nuumismatic_shrine",
                    "has_building_construction": "building_nuumismatic_shrine"
                  }
                }
              }
            },
            "set_timed_country_flag": {},
            "100": {
              "set_timed_country_flag": {
                "modifier": {
                  "factor": "0",
                  "has_ethic": "ethic_gestalt_consciousness",
                  "NOT": {},
                  "modifier": {
                    "factor": "0",
                    "NOT": {}
                  },
                  "100": {
                    "modifier": {
                      "factor": "0",
                      "has_ethic": "ethic_gestalt_consciousness",
                      "NOT": {},
                      "modifier": {
                        "factor": "0",
                        "has_country_flag": "nuumismatic_visualization"
                      },
                      "set_timed_country_flag": {},
                      "100": {
                        "modifier": {
                          "factor": "0",
                          "OR": {
                            "has_technology": "tech_prescient_data_modeling",
                            "is_gestalt": "yes"
                          }
                        },
                        "set_timed_country_flag": {},
                        "100": {
                          "modifier": {
                            "factor": "0",
                            "OR": {
                              "any_owned_leader": {
                                "has_leader_flag": "nuumismatic_priest"
                              },
                              "has_ethic": "ethic_gestalt_consciousness"
                            }
                          },
                          "set_timed_country_flag": {},
                          "100": {
                            "set_timed_country_flag": {
                              "modifier": {
                                "factor": "0.005",
                                "has_country_flag": "sold_pops_for_crystals"
                              }
                            },
                            "100": {
                              "set_timed_country_flag": {
                                "modifier": {
                                  "factor": "0",
                                  "has_country_flag": "bought_numistic_cruiser"
                                }
                              },
                              "100": {
                                "modifier": {
                                  "factor": "0.1",
                                  "NOT": {},
                                  "modifier": {
                                    "factor": "0",
                                    "NOT": {
                                      "any_owned_planet": {}
                                    },
                                    "set_timed_country_flag": {},
                                    "100": {
                                      "modifier": {
                                        "factor": "0",
                                        "NOT": {
                                          "any_owned_planet": {
                                            "NOT": {}
                                          }
                                        },
                                        "set_timed_country_flag": {},
                                        "100": {
                                          "modifier": {
                                            "factor": "0",
                                            "OR": {
                                              "is_machine_empire": "no",
                                              "has_country_flag": "divine_algorithm"
                                            }
                                          },
                                          "set_timed_country_flag": {},
                                          "100": {
                                            "set_timed_country_flag": {},
                                            "1": {
                                              "set_timed_country_flag": {},
                                              "1": {
                                                "set_timed_country_flag": {},
                                                "1": {
                                                  "set_timed_country_flag": {}
                                                }
                                              },
                                              "_comments": [
                                                "# Get planet tar for Deal 8"
                                              ],
                                              "if": {
                                                "limit": {
                                                  "random_owned_planet": {
                                                    "limit": {
                                                      "habitable_planet": "yes"
                                                    },
                                                    "weights": {
                                                      "base": "1",
                                                      "modifier": {
                                                        "factor": "100",
                                                        "OR": {
                                                          "NOT": {
                                                            "NOT": {
                                                              "OR": {
                                                                "is_planet_class": "pc_arid"
                                                              },
                                                              "num_districts": {}
                                                            }
                                                          },
                                                          "set_timed_planet_flag": {
                                                            "save_event_target_as": "fleet2deal8planet"
                                                          }
                                                        },
                                                        "_comments": [
                                                          "# Get planet tar for Deal 9"
                                                        ],
                                                        "random_owned_planet": {
                                                          "limit": {},
                                                          "weights": {
                                                            "base": "1",
                                                            "modifier": {
                                                              "factor": "10"
                                                            }
                                                          },
                                                          "set_timed_planet_flag": {
                                                            "save_event_target_as": "fleet2deal9planet"
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 505
  },
  "cara_execute_deal2": {
    "cara_execute_deal2": {
      "hidden_effect": {
        "if": {
          "tooltip": {
            "give_technology": {
              "add_resource": {},
              "give_technology": {
                "add_resource": {},
                "else_if": {
                  "custom_tooltip": "fleet2product3_tooltip",
                  "tooltip": {
                    "add_resource": {
                      "set_country_flag": "nuumismatic_visualization"
                    },
                    "else_if": {
                      "custom_tooltip": "fleet2product1_tooltip\" # Shrine",
                      "tooltip": {
                        "add_resource": {
                          "set_country_flag": "nuumismatic_shrine"
                        },
                        "else_if": {
                          "custom_tooltip": "fleet2product5_tooltip\" # Official",
                          "tooltip": {
                            "add_resource": {
                              "create_leader": {
                                "class": "official",
                                "species": "event_target:caravaneer_fleet2_country.species",
                                "name": "NAME_merchant_leader",
                                "skill": "3",
                                "traits": {
                                  "trait": "leader_trait_nuumismatic_priest"
                                },
                                "event_leader": "yes",
                                "effect": {
                                  "set_leader_flag": "nuumismatic_priest"
                                }
                              }
                            },
                            "else_if": {
                              "tooltip": {
                                "custom_tooltip": "fleet2product6_tooltip",
                                "while": {
                                  "count": "1",
                                  "random_owned_pop": {
                                    "species": {
                                      "kill_pop": "yes"
                                    }
                                  },
                                  "add_resource": {
                                    "set_country_flag": "sold_pops_for_crystals"
                                  },
                                  "else_if": {
                                    "custom_tooltip": "fleet2product2_tooltip",
                                    "tooltip": {
                                      "add_resource": {
                                        "set_country_flag": "bought_numistic_pops",
                                        "random_playable_country": {
                                          "limit": {
                                            "NOT": {},
                                            "random_owned_pop": {
                                              "limit": {
                                                "species": {
                                                  "NOR": {
                                                    "is_archetype": "PRESAPIENT"
                                                  }
                                                }
                                              },
                                              "species": {}
                                            },
                                            "capital_scope": {
                                              "modify_species": {
                                                "species": "event_target:purchased_pop_species",
                                                "add_trait": "trait_nuumismatic_administration",
                                                "ideal_planet_class": "root.capital_scope"
                                              },
                                              "while": {
                                                "count": "2",
                                                "create_pop": {
                                                  "species": "last_created_species"
                                                }
                                              }
                                            }
                                          },
                                          "else_if": {
                                            "tooltip": {
                                              "custom_tooltip": "fleet2product7_tooltip",
                                              "add_resource": {
                                                "set_country_flag": "bought_numistic_cruiser",
                                                "capital_scope": {
                                                  "create_fleet": {
                                                    "name": "NAME_CARAVANEER_CRUISER_FLEET_NUMISTIC",
                                                    "effect": {
                                                      "set_owner": "root",
                                                      "create_ship": {
                                                        "name": "NAME_CARAVANEER_CRUISER_NUMISTIC",
                                                        "design": "NAME_Gunslinger"
                                                      },
                                                      "set_location": {
                                                        "target": "root.capital_scope",
                                                        "distance": "10",
                                                        "angle": "random"
                                                      }
                                                    }
                                                  }
                                                }
                                              },
                                              "else_if": {
                                                "add_resource": {
                                                  "tooltip": {
                                                    "add_resource": {
                                                      "event_target:fleet2deal8planet": {
                                                        "add_deposit": "d_numas_breath",
                                                        "remove_planet_flag": "fleet2deal8planet"
                                                      }
                                                    },
                                                    "else_if": {
                                                      "add_resource": {
                                                        "tooltip": {
                                                          "add_resource": {
                                                            "event_target:fleet2deal9planet": {
                                                              "add_modifier": {
                                                                "modifier": "numistic_magnetostrips",
                                                                "days": "-1"
                                                              }
                                                            }
                                                          },
                                                          "event_target:fleet2deal9planet": {
                                                            "add_modifier": {
                                                              "modifier": "numistic_magnetostrips",
                                                              "days": "-1"
                                                            },
                                                            "remove_planet_flag": "fleet2deal9planet"
                                                          }
                                                        },
                                                        "else_if": {
                                                          "add_resource": {
                                                            "tooltip": {
                                                              "add_resource": {},
                                                              "custom_tooltip": "fleetproduct10_tooltip",
                                                              "set_country_flag": "divine_algorithm"
                                                            },
                                                            "else_if": {
                                                              "tooltip": {
                                                                "custom_tooltip": "fleet2product7_tooltip",
                                                                "add_resource": {
                                                                  "set_country_flag": "bought_numistic_cruiser",
                                                                  "capital_scope": {
                                                                    "create_fleet": {
                                                                      "name": "NAME_CARAVANEER_CRUISER_FLEET_NUMISTIC",
                                                                      "effect": {
                                                                        "set_owner": "root",
                                                                        "create_ship": {
                                                                          "name": "NAME_CARAVANEER_CRUISER_NUMISTIC",
                                                                          "design": "NAME_Gunslinger"
                                                                        },
                                                                        "set_location": {
                                                                          "target": "root.capital_scope",
                                                                          "distance": "10",
                                                                          "angle": "random"
                                                                        }
                                                                      }
                                                                    }
                                                                  }
                                                                },
                                                                "else_if": {
                                                                  "add_resource": {
                                                                    "add_resource": {
                                                                      "tooltip": {
                                                                        "add_resource": {
                                                                          "add_resource": {}
                                                                        },
                                                                        "else_if": {
                                                                          "add_resource": {
                                                                            "add_resource": {
                                                                              "tooltip": {
                                                                                "add_resource": {
                                                                                  "add_resource": {}
                                                                                },
                                                                                "else_if": {
                                                                                  "add_resource": {
                                                                                    "add_resource": {
                                                                                      "tooltip": {
                                                                                        "add_resource": {
                                                                                          "add_resource": {}
                                                                                        }
                                                                                      }
                                                                                    }
                                                                                  }
                                                                                }
                                                                              }
                                                                            }
                                                                          }
                                                                        }
                                                                      }
                                                                    }
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 728
  },
  "cara_generate_deal3": {
    "cara_generate_deal3": {
      "if": {
        "_comments": [
          "# repeat existing deal for 1 year, otherwise refresh flag"
        ],
        "limit": {
          "NOR": {
            "has_country_flag": "fleet3deal9 #Selling Caravan destroyer"
          }
        },
        "random_list": {
          "1": {
            "modifier": {
              "factor": "0",
              "is_machine_empire": "yes",
              "NOT": {},
              "set_timed_country_flag": {},
              "1": {
                "modifier": {
                  "factor": "0",
                  "is_hive_empire": "yes"
                },
                "set_timed_country_flag": {},
                "1": {
                  "modifier": {
                    "factor": "0",
                    "is_hive_empire": "yes"
                  },
                  "set_timed_country_flag": {},
                  "1": {
                    "0": {
                      "modifier": {
                        "factor": "0",
                        "OR": {
                          "any_owned_planet": {
                            "has_building": "building_waste_reprocessing_center"
                          },
                          "has_country_flag": "bought_waste_reprocessing_center"
                        }
                      },
                      "set_timed_country_flag": {},
                      "1": {
                        "modifier": {
                          "factor": "0",
                          "has_technology": "tech_orbital_trash_dispersal"
                        },
                        "set_timed_country_flag": {},
                        "1": {
                          "modifier": {
                            "factor": "0",
                            "NOT": {
                              "any_planet_within_border": {
                                "has_mining_station": "yes",
                                "has_resource": {
                                  "NOT": {}
                                }
                              },
                              "set_timed_country_flag": {},
                              "2": {
                                "modifier": {
                                  "factor": "0",
                                  "NOT": {
                                    "any_owned_planet": {
                                      "OR": {
                                        "is_colony": "yes",
                                        "is_capital": "yes",
                                        "is_colonizable": "yes"
                                      },
                                      "NOT": {}
                                    }
                                  },
                                  "set_timed_country_flag": {},
                                  "1": {
                                    "modifier": {
                                      "factor": "0",
                                      "any_controlled_ship": {
                                        "is_ship_size": "caravaneer_destroyer_01"
                                      }
                                    },
                                    "set_timed_country_flag": {}
                                  }
                                },
                                "_comments": [
                                  "#Get costs and products for Deal 1"
                                ],
                                "if": {
                                  "limit": {
                                    "has_country_flag": "fleet3deal1",
                                    "NOR": {
                                      "has_country_flag": "fleet3deal1product3"
                                    }
                                  },
                                  "if": {
                                    "limit": {
                                      "set_timed_country_flag": {
                                        "set_timed_country_flag": {},
                                        "else_if": {
                                          "limit": {
                                            "set_timed_country_flag": {
                                              "set_timed_country_flag": {},
                                              "else_if": {
                                                "limit": {
                                                  "set_timed_country_flag": {
                                                    "set_timed_country_flag": {}
                                                  },
                                                  "_comments": [
                                                    "#Get costs and products for Deal 2"
                                                  ],
                                                  "if": {
                                                    "limit": {
                                                      "has_country_flag": "fleet3deal2",
                                                      "NOR": {
                                                        "has_country_flag": "fleet3deal2product2"
                                                      }
                                                    },
                                                    "random_list": {
                                                      "1": {
                                                        "1": {
                                                          "1": {
                                                            "modifier": {
                                                              "factor": "0",
                                                              "has_ethic": "ethic_gestalt_consciousness",
                                                              "NOT": {},
                                                              "set_timed_country_flag": {}
                                                            }
                                                          },
                                                          "if": {
                                                            "limit": {
                                                              "random_list": {
                                                                "1": {
                                                                  "1": {
                                                                    "modifier": {
                                                                      "factor": "1.5",
                                                                      "has_ethic": "ethic_gestalt_consciousness"
                                                                    },
                                                                    "set_timed_country_flag": {}
                                                                  }
                                                                },
                                                                "_comments": [
                                                                  "#Get tar planet for Deal 3"
                                                                ],
                                                                "if": {
                                                                  "limit": {
                                                                    "has_country_flag": "fleet3deal3",
                                                                    "NOT": {},
                                                                    "if": {
                                                                      "limit": {
                                                                        "any_owned_planet": {}
                                                                      },
                                                                      "random_owned_planet": {
                                                                        "limit": {},
                                                                        "set_timed_planet_flag": {
                                                                          "save_event_target_as": "fleet3deal3planet"
                                                                        }
                                                                      },
                                                                      "else_if": {
                                                                        "limit": {
                                                                          "any_owned_planet": {}
                                                                        },
                                                                        "random_owned_planet": {
                                                                          "limit": {},
                                                                          "set_timed_planet_flag": {
                                                                            "save_event_target_as": "fleet3deal3planet"
                                                                          }
                                                                        },
                                                                        "else_if": {
                                                                          "limit": {
                                                                            "any_owned_planet": {}
                                                                          },
                                                                          "random_owned_planet": {
                                                                            "limit": {},
                                                                            "set_timed_planet_flag": {
                                                                              "save_event_target_as": "fleet3deal3planet"
                                                                            }
                                                                          },
                                                                          "else": {
                                                                            "capital_scope": {
                                                                              "set_timed_planet_flag": {
                                                                                "save_event_target_as": "fleet3deal3planet"
                                                                              }
                                                                            }
                                                                          },
                                                                          "_comments": [
                                                                            "#Get costs and products for Deal 4"
                                                                          ],
                                                                          "if": {
                                                                            "limit": {
                                                                              "has_country_flag": "fleet3deal4",
                                                                              "NOR": {
                                                                                "has_country_flag": "fleet3deal4cost3"
                                                                              }
                                                                            },
                                                                            "random_list": {
                                                                              "1": {
                                                                                "1": {
                                                                                  "1": {}
                                                                                },
                                                                                "if": {
                                                                                  "limit": {
                                                                                    "has_country_flag": "fleet3deal4",
                                                                                    "NOR": {
                                                                                      "has_country_flag": "fleet3deal4product3"
                                                                                    }
                                                                                  },
                                                                                  "random_list": {
                                                                                    "1": {
                                                                                      "1": {
                                                                                        "1": {}
                                                                                      },
                                                                                      "_comments": [
                                                                                        "#Get costs for Deal 6"
                                                                                      ],
                                                                                      "if": {
                                                                                        "limit": {
                                                                                          "has_country_flag": "fleet3deal6",
                                                                                          "NOR": {
                                                                                            "has_country_flag": "fleet3deal6cost3"
                                                                                          }
                                                                                        },
                                                                                        "random_list": {
                                                                                          "1": {
                                                                                            "1": {
                                                                                              "1": {
                                                                                                "modifier": {
                                                                                                  "factor": "0",
                                                                                                  "has_ethic": "ethic_gestalt_consciousness",
                                                                                                  "NOT": {},
                                                                                                  "set_timed_country_flag": {}
                                                                                                }
                                                                                              },
                                                                                              "_comments": [
                                                                                                "#Get costs for Deal 7"
                                                                                              ],
                                                                                              "if": {
                                                                                                "limit": {
                                                                                                  "has_country_flag": "fleet3deal7",
                                                                                                  "NOR": {
                                                                                                    "has_country_flag": "fleet3deal7cost3"
                                                                                                  }
                                                                                                },
                                                                                                "random_list": {
                                                                                                  "2": {
                                                                                                    "1": {
                                                                                                      "2": {
                                                                                                        "modifier": {
                                                                                                          "factor": "0",
                                                                                                          "has_ethic": "ethic_gestalt_consciousness",
                                                                                                          "NOT": {},
                                                                                                          "set_timed_country_flag": {}
                                                                                                        }
                                                                                                      },
                                                                                                      "_comments": [
                                                                                                        "#Get station tar for Deal 7"
                                                                                                      ],
                                                                                                      "if": {
                                                                                                        "limit": {
                                                                                                          "has_country_flag": "fleet3deal7",
                                                                                                          "NOT": {},
                                                                                                          "if": {
                                                                                                            "limit": {
                                                                                                              "any_planet_within_border": {
                                                                                                                "has_mining_station": "yes",
                                                                                                                "has_resource": {
                                                                                                                  "NOT": {}
                                                                                                                },
                                                                                                                "random_planet_within_border": {
                                                                                                                  "limit": {
                                                                                                                    "has_mining_station": "yes",
                                                                                                                    "has_resource": {
                                                                                                                      "NOT": {},
                                                                                                                      "set_timed_planet_flag": {
                                                                                                                        "save_event_target_as": "fleet3deal7planet"
                                                                                                                      }
                                                                                                                    },
                                                                                                                    "else": {
                                                                                                                      "random_planet_within_border": {
                                                                                                                        "limit": {
                                                                                                                          "is_colonizable": "no",
                                                                                                                          "has_resource": {
                                                                                                                            "NOT": {},
                                                                                                                            "set_timed_planet_flag": {
                                                                                                                              "save_event_target_as": "fleet3deal7planet"
                                                                                                                            }
                                                                                                                          }
                                                                                                                        },
                                                                                                                        "_comments": [
                                                                                                                          "#Get costs for Deal 8"
                                                                                                                        ],
                                                                                                                        "if": {
                                                                                                                          "limit": {
                                                                                                                            "has_country_flag": "fleet3deal8",
                                                                                                                            "NOR": {
                                                                                                                              "has_country_flag": "fleet3deal8cost2"
                                                                                                                            }
                                                                                                                          },
                                                                                                                          "random_list": {
                                                                                                                            "1": {
                                                                                                                              "modifier": {
                                                                                                                                "factor": "0",
                                                                                                                                "NOR": {
                                                                                                                                  "has_civic": "civic_machine_servitor",
                                                                                                                                  "resource_stockpile_compare": {
                                                                                                                                    "resource": "consumer_goods",
                                                                                                                                    "value >": "300"
                                                                                                                                  }
                                                                                                                                }
                                                                                                                              },
                                                                                                                              "set_timed_country_flag": {},
                                                                                                                              "1": {}
                                                                                                                            },
                                                                                                                            "_comments": [
                                                                                                                              "#Get planet tar for Deal 8"
                                                                                                                            ],
                                                                                                                            "if": {
                                                                                                                              "limit": {
                                                                                                                                "has_country_flag": "fleet3deal8",
                                                                                                                                "NOT": {},
                                                                                                                                "if": {
                                                                                                                                  "limit": {
                                                                                                                                    "any_owned_planet": {
                                                                                                                                      "OR": {
                                                                                                                                        "has_district": "district_generator"
                                                                                                                                      }
                                                                                                                                    }
                                                                                                                                  },
                                                                                                                                  "random_owned_planet": {
                                                                                                                                    "limit": {
                                                                                                                                      "OR": {
                                                                                                                                        "has_district": "district_generator"
                                                                                                                                      }
                                                                                                                                    },
                                                                                                                                    "weights": {
                                                                                                                                      "base": "1",
                                                                                                                                      "modifier": {
                                                                                                                                        "factor": "100",
                                                                                                                                        "num_assigned_jobs": {
                                                                                                                                          "job": "technician_drone"
                                                                                                                                        }
                                                                                                                                      }
                                                                                                                                    },
                                                                                                                                    "set_timed_planet_flag": {
                                                                                                                                      "save_event_target_as": "fleet3deal8planet"
                                                                                                                                    }
                                                                                                                                  },
                                                                                                                                  "else": {
                                                                                                                                    "capital_scope": {
                                                                                                                                      "set_timed_planet_flag": {
                                                                                                                                        "save_event_target_as": "fleet3deal8planet"
                                                                                                                                      }
                                                                                                                                    }
                                                                                                                                  }
                                                                                                                                }
                                                                                                                              }
                                                                                                                            }
                                                                                                                          }
                                                                                                                        }
                                                                                                                      }
                                                                                                                    }
                                                                                                                  }
                                                                                                                }
                                                                                                              }
                                                                                                            }
                                                                                                          }
                                                                                                        }
                                                                                                      }
                                                                                                    }
                                                                                                  }
                                                                                                }
                                                                                              }
                                                                                            }
                                                                                          }
                                                                                        }
                                                                                      }
                                                                                    }
                                                                                  }
                                                                                }
                                                                              }
                                                                            }
                                                                          }
                                                                        }
                                                                      }
                                                                    }
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 928
  },
  "cara_execute_deal3": {
    "cara_execute_deal3": {
      "_comments": [
        "# Cost"
      ],
      "hidden_effect": {
        "if": {
          "limit": {
            "add_resource": {
              "tooltip": {
                "remove_country_flag": "fleet3deal1cost1"
              },
              "else_if": {
                "limit": {
                  "add_resource": {
                    "tooltip": {
                      "remove_country_flag": "fleet3deal1cost2"
                    },
                    "else_if": {
                      "limit": {
                        "add_resource": {
                          "tooltip": {
                            "remove_country_flag": "fleet3deal1cost3"
                          },
                          "else_if": {
                            "limit": {
                              "add_resource": {
                                "tooltip": {
                                  "remove_country_flag": "fleet3deal2cost1"
                                },
                                "else_if": {
                                  "limit": {
                                    "add_resource": {
                                      "tooltip": {
                                        "remove_country_flag": "fleet3deal2cost2"
                                      },
                                      "else_if": {
                                        "limit": {
                                          "add_resource": {
                                            "tooltip": {
                                              "remove_country_flag": "fleet3deal2cost3"
                                            },
                                            "else_if": {
                                              "limit": {
                                                "add_resource": {
                                                  "tooltip": {},
                                                  "_comments": [
                                                    "#flag removed in product"
                                                  ],
                                                  "else_if": {
                                                    "limit": {
                                                      "add_resource": {
                                                        "tooltip": {
                                                          "remove_country_flag": "fleet3deal4cost1"
                                                        },
                                                        "else_if": {
                                                          "limit": {
                                                            "add_resource": {
                                                              "tooltip": {
                                                                "remove_country_flag": "fleet3deal4cost2"
                                                              },
                                                              "else_if": {
                                                                "limit": {
                                                                  "add_resource": {
                                                                    "tooltip": {
                                                                      "remove_country_flag": "fleet3deal4cost3"
                                                                    },
                                                                    "else_if": {
                                                                      "limit": {
                                                                        "while": {
                                                                          "count": "3",
                                                                          "random_owned_pop": {
                                                                            "limit": {
                                                                              "OR": {
                                                                                "is_unemployed": "yes",
                                                                                "is_pop_category": "purge"
                                                                              }
                                                                            },
                                                                            "weights": {
                                                                              "base": "1",
                                                                              "modifier": {
                                                                                "factor": "100",
                                                                                "is_unemployed": "yes"
                                                                              }
                                                                            },
                                                                            "kill_pop": "yes"
                                                                          }
                                                                        },
                                                                        "if": {
                                                                          "limit": {
                                                                            "custom_tooltip": "fleet3deal5cost_gesta_tooltip"
                                                                          },
                                                                          "else": {},
                                                                          "_comments": [
                                                                            "#flag removed in product"
                                                                          ],
                                                                          "else_if": {
                                                                            "limit": {
                                                                              "add_resource": {
                                                                                "tooltip": {
                                                                                  "remove_country_flag": "fleet3deal6cost1"
                                                                                },
                                                                                "else_if": {
                                                                                  "limit": {
                                                                                    "add_resource": {
                                                                                      "tooltip": {
                                                                                        "remove_country_flag": "fleet3deal6cost2"
                                                                                      },
                                                                                      "else_if": {
                                                                                        "limit": {
                                                                                          "has_country_flag": "fleet3deal6cost3"
                                                                                        },
                                                                                        "add_resource": {
                                                                                          "tooltip": {
                                                                                            "remove_country_flag": "fleet3deal6cost3"
                                                                                          },
                                                                                          "else_if": {
                                                                                            "limit": {
                                                                                              "add_resource": {
                                                                                                "tooltip": {
                                                                                                  "remove_country_flag": "fleet3deal7cost1"
                                                                                                },
                                                                                                "else_if": {
                                                                                                  "limit": {
                                                                                                    "add_resource": {
                                                                                                      "tooltip": {
                                                                                                        "remove_country_flag": "fleet3deal7cost2"
                                                                                                      },
                                                                                                      "else_if": {
                                                                                                        "limit": {
                                                                                                          "add_resource": {
                                                                                                            "tooltip": {
                                                                                                              "remove_country_flag": "fleet3deal7cost3"
                                                                                                            },
                                                                                                            "else_if": {
                                                                                                              "limit": {
                                                                                                                "add_resource": {
                                                                                                                  "tooltip": {
                                                                                                                    "remove_country_flag": "fleet3deal8cost1"
                                                                                                                  },
                                                                                                                  "else_if": {
                                                                                                                    "limit": {
                                                                                                                      "add_resource": {
                                                                                                                        "tooltip": {
                                                                                                                          "remove_country_flag": "fleet3deal8cost2"
                                                                                                                        },
                                                                                                                        "else_if": {
                                                                                                                          "limit": {
                                                                                                                            "add_resource": {
                                                                                                                              "tooltip": {
                                                                                                                                "custom_tooltip": "fleet3deal9.tooltip",
                                                                                                                                "capital_scope": {
                                                                                                                                  "create_fleet": {
                                                                                                                                    "name": "NAME_CARAVANEER_DESTROYER_RACKET",
                                                                                                                                    "effect": {
                                                                                                                                      "set_owner": "root",
                                                                                                                                      "create_ship": {
                                                                                                                                        "name": "NAME_CARAVANEER_DESTROYER_RACKET",
                                                                                                                                        "design": "NAME_Yojimbo",
                                                                                                                                        "graphical_culture": "caravaneer_01"
                                                                                                                                      },
                                                                                                                                      "set_location": {
                                                                                                                                        "target": "root.capital_scope",
                                                                                                                                        "distance": "10",
                                                                                                                                        "angle": "random"
                                                                                                                                      }
                                                                                                                                    }
                                                                                                                                  }
                                                                                                                                }
                                                                                                                              }
                                                                                                                            },
                                                                                                                            "_comments": [
                                                                                                                              "#Product"
                                                                                                                            ],
                                                                                                                            "hidden_effect": {
                                                                                                                              "_comments": [
                                                                                                                                "# Deal 1 Products"
                                                                                                                              ],
                                                                                                                              "if": {
                                                                                                                                "limit": {
                                                                                                                                  "add_resource": {
                                                                                                                                    "tooltip": {
                                                                                                                                      "remove_country_flag": "fleet3deal1"
                                                                                                                                    },
                                                                                                                                    "else_if": {
                                                                                                                                      "limit": {
                                                                                                                                        "add_resource": {
                                                                                                                                          "tooltip": {
                                                                                                                                            "remove_country_flag": "fleet3deal1"
                                                                                                                                          },
                                                                                                                                          "else_if": {
                                                                                                                                            "limit": {
                                                                                                                                              "add_resource": {
                                                                                                                                                "tooltip": {
                                                                                                                                                  "remove_country_flag": "fleet3deal1"
                                                                                                                                                },
                                                                                                                                                "_comments": [
                                                                                                                                                  "# Deal 2 Product 1: Engineer"
                                                                                                                                                ],
                                                                                                                                                "else_if": {
                                                                                                                                                  "limit": {
                                                                                                                                                    "custom_tooltip": "fleet3deal2product1_tooltip",
                                                                                                                                                    "if": {
                                                                                                                                                      "limit": {
                                                                                                                                                        "create_leader": {
                                                                                                                                                          "class": "scientist",
                                                                                                                                                          "species": "event_target:racket_species",
                                                                                                                                                          "name": "random",
                                                                                                                                                          "skill": "3"
                                                                                                                                                        },
                                                                                                                                                        "last_created_leader": {
                                                                                                                                                          "random_list": {
                                                                                                                                                            "1": {
                                                                                                                                                              "1": {
                                                                                                                                                                "1": {
                                                                                                                                                                  "1": {
                                                                                                                                                                    "1": {
                                                                                                                                                                      "1": {}
                                                                                                                                                                    }
                                                                                                                                                                  },
                                                                                                                                                                  "else_if": {
                                                                                                                                                                    "limit": {
                                                                                                                                                                      "create_leader": {
                                                                                                                                                                        "class": "scientist",
                                                                                                                                                                        "species": "event_target:racket_robot_species",
                                                                                                                                                                        "name": "random",
                                                                                                                                                                        "skill": "3"
                                                                                                                                                                      },
                                                                                                                                                                      "last_created_leader": {
                                                                                                                                                                        "random_list": {
                                                                                                                                                                          "1": {
                                                                                                                                                                            "1": {
                                                                                                                                                                              "1": {
                                                                                                                                                                                "1": {
                                                                                                                                                                                  "1": {
                                                                                                                                                                                    "1": {}
                                                                                                                                                                                  }
                                                                                                                                                                                },
                                                                                                                                                                                "remove_country_flag": "fleet3deal2"
                                                                                                                                                                              },
                                                                                                                                                                              "_comments": [
                                                                                                                                                                                "# Deal 2 Product 2: Official"
                                                                                                                                                                              ],
                                                                                                                                                                              "else_if": {
                                                                                                                                                                                "limit": {
                                                                                                                                                                                  "custom_tooltip": "fleet3deal2product2_tooltip",
                                                                                                                                                                                  "if": {
                                                                                                                                                                                    "limit": {
                                                                                                                                                                                      "create_leader": {
                                                                                                                                                                                        "class": "official",
                                                                                                                                                                                        "species": "event_target:racket_species",
                                                                                                                                                                                        "name": "random",
                                                                                                                                                                                        "skill": "3"
                                                                                                                                                                                      },
                                                                                                                                                                                      "last_created_leader": {
                                                                                                                                                                                        "add_trait_no_notify": "leader_trait_waste_management_specialist"
                                                                                                                                                                                      }
                                                                                                                                                                                    },
                                                                                                                                                                                    "else_if": {
                                                                                                                                                                                      "limit": {
                                                                                                                                                                                        "if": {
                                                                                                                                                                                          "limit": {
                                                                                                                                                                                            "custom_tooltip": "fleet3deal3product_machi_tooltip"
                                                                                                                                                                                          },
                                                                                                                                                                                          "else": {
                                                                                                                                                                                            "custom_tooltip": "fleet3deal3product_tooltip"
                                                                                                                                                                                          },
                                                                                                                                                                                          "event_target:fleet3deal3planet": {
                                                                                                                                                                                            "if": {
                                                                                                                                                                                              "limit": {
                                                                                                                                                                                                "while": {
                                                                                                                                                                                                  "count": "3",
                                                                                                                                                                                                  "create_pop": {
                                                                                                                                                                                                    "species": "event_target:racket_robot_species"
                                                                                                                                                                                                  }
                                                                                                                                                                                                }
                                                                                                                                                                                              },
                                                                                                                                                                                              "else": {
                                                                                                                                                                                                "while": {
                                                                                                                                                                                                  "count": "3",
                                                                                                                                                                                                  "create_pop": {
                                                                                                                                                                                                    "species": "event_target:racket_species"
                                                                                                                                                                                                  }
                                                                                                                                                                                                }
                                                                                                                                                                                              },
                                                                                                                                                                                              "remove_planet_flag": "fleet3deal3planet"
                                                                                                                                                                                            },
                                                                                                                                                                                            "remove_country_flag": "fleet3deal3"
                                                                                                                                                                                          },
                                                                                                                                                                                          "_comments": [
                                                                                                                                                                                            "# Deal 4 Product 1"
                                                                                                                                                                                          ],
                                                                                                                                                                                          "else_if": {
                                                                                                                                                                                            "limit": {
                                                                                                                                                                                              "add_resource": {
                                                                                                                                                                                                "tooltip": {
                                                                                                                                                                                                  "remove_country_flag": "fleet3deal4"
                                                                                                                                                                                                },
                                                                                                                                                                                                "_comments": [
                                                                                                                                                                                                  "# Deal 4 Product 2"
                                                                                                                                                                                                ],
                                                                                                                                                                                                "else_if": {
                                                                                                                                                                                                  "limit": {
                                                                                                                                                                                                    "add_resource": {
                                                                                                                                                                                                      "tooltip": {
                                                                                                                                                                                                        "remove_country_flag": "fleet3deal4"
                                                                                                                                                                                                      },
                                                                                                                                                                                                      "_comments": [
                                                                                                                                                                                                        "# Deal 4 Product 3"
                                                                                                                                                                                                      ],
                                                                                                                                                                                                      "else_if": {
                                                                                                                                                                                                        "limit": {
                                                                                                                                                                                                          "add_resource": {
                                                                                                                                                                                                            "tooltip": {
                                                                                                                                                                                                              "remove_country_flag": "fleet3deal4"
                                                                                                                                                                                                            },
                                                                                                                                                                                                            "_comments": [
                                                                                                                                                                                                              "# Deal 5"
                                                                                                                                                                                                            ],
                                                                                                                                                                                                            "else_if": {
                                                                                                                                                                                                              "limit": {
                                                                                                                                                                                                                "set_country_flag": "bought_waste_reprocessing_center",
                                                                                                                                                                                                                "custom_tooltip": "fleet3deal5product_tooltip",
                                                                                                                                                                                                                "remove_country_flag": "fleet3deal5"
                                                                                                                                                                                                              },
                                                                                                                                                                                                              "_comments": [
                                                                                                                                                                                                                "# Deal 6"
                                                                                                                                                                                                              ],
                                                                                                                                                                                                              "else_if": {
                                                                                                                                                                                                                "limit": {
                                                                                                                                                                                                                  "give_technology": {
                                                                                                                                                                                                                    "tooltip": {
                                                                                                                                                                                                                      "remove_country_flag": "fleet3deal6"
                                                                                                                                                                                                                    },
                                                                                                                                                                                                                    "_comments": [
                                                                                                                                                                                                                      "# Deal 7"
                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                    "else_if": {
                                                                                                                                                                                                                      "limit": {
                                                                                                                                                                                                                        "event_target:fleet3deal7planet": {
                                                                                                                                                                                                                          "add_deposit": "d_energy_5",
                                                                                                                                                                                                                          "add_modifier": {
                                                                                                                                                                                                                            "modifier": "racket_energy_extractor",
                                                                                                                                                                                                                            "days": "-1"
                                                                                                                                                                                                                          },
                                                                                                                                                                                                                          "remove_planet_flag": "fleet3deal7planet"
                                                                                                                                                                                                                        },
                                                                                                                                                                                                                        "tooltip": {
                                                                                                                                                                                                                          "event_target:fleet3deal7planet": {
                                                                                                                                                                                                                            "add_deposit": "d_energy_5"
                                                                                                                                                                                                                          }
                                                                                                                                                                                                                        },
                                                                                                                                                                                                                        "if": {
                                                                                                                                                                                                                          "limit": {
                                                                                                                                                                                                                            "set_country_flag": "got_fleet3deal7"
                                                                                                                                                                                                                          },
                                                                                                                                                                                                                          "remove_country_flag": "fleet3deal7"
                                                                                                                                                                                                                        },
                                                                                                                                                                                                                        "_comments": [
                                                                                                                                                                                                                          "# Deal 8"
                                                                                                                                                                                                                        ],
                                                                                                                                                                                                                        "else_if": {
                                                                                                                                                                                                                          "limit": {
                                                                                                                                                                                                                            "event_target:fleet3deal8planet": {
                                                                                                                                                                                                                              "add_modifier": {
                                                                                                                                                                                                                                "modifier": "racket_generator_regulator",
                                                                                                                                                                                                                                "days": "-1"
                                                                                                                                                                                                                              },
                                                                                                                                                                                                                              "remove_planet_flag": "fleet3deal8planet"
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                            "tooltip": {
                                                                                                                                                                                                                              "event_target:fleet3deal8planet": {
                                                                                                                                                                                                                                "add_modifier": {
                                                                                                                                                                                                                                  "modifier": "racket_generator_regulator",
                                                                                                                                                                                                                                  "days": "-1"
                                                                                                                                                                                                                                }
                                                                                                                                                                                                                              }
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                            "set_country_flag": "got_fleet3deal8",
                                                                                                                                                                                                                            "remove_country_flag": "fleet3deal8"
                                                                                                                                                                                                                          }
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                      }
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                }
                                                                                                                                                                                                              }
                                                                                                                                                                                                            }
                                                                                                                                                                                                          }
                                                                                                                                                                                                        }
                                                                                                                                                                                                      }
                                                                                                                                                                                                    }
                                                                                                                                                                                                  }
                                                                                                                                                                                                }
                                                                                                                                                                                              }
                                                                                                                                                                                            }
                                                                                                                                                                                          }
                                                                                                                                                                                        }
                                                                                                                                                                                      }
                                                                                                                                                                                    },
                                                                                                                                                                                    "_comments": [
                                                                                                                                                                                      "# Deal 3 Product"
                                                                                                                                                                                    ]
                                                                                                                                                                                  }
                                                                                                                                                                                }
                                                                                                                                                                              }
                                                                                                                                                                            }
                                                                                                                                                                          }
                                                                                                                                                                        }
                                                                                                                                                                      }
                                                                                                                                                                    }
                                                                                                                                                                  }
                                                                                                                                                                }
                                                                                                                                                              }
                                                                                                                                                            }
                                                                                                                                                          }
                                                                                                                                                        }
                                                                                                                                                      }
                                                                                                                                                    }
                                                                                                                                                  }
                                                                                                                                                }
                                                                                                                                              }
                                                                                                                                            }
                                                                                                                                          }
                                                                                                                                        }
                                                                                                                                      }
                                                                                                                                    }
                                                                                                                                  }
                                                                                                                                }
                                                                                                                              }
                                                                                                                            }
                                                                                                                          }
                                                                                                                        }
                                                                                                                      }
                                                                                                                    }
                                                                                                                  }
                                                                                                                }
                                                                                                              }
                                                                                                            }
                                                                                                          }
                                                                                                        }
                                                                                                      }
                                                                                                    }
                                                                                                  }
                                                                                                }
                                                                                              }
                                                                                            }
                                                                                          }
                                                                                        }
                                                                                      }
                                                                                    }
                                                                                  }
                                                                                }
                                                                              }
                                                                            }
                                                                          }
                                                                        }
                                                                      }
                                                                    }
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 1367
  },
  "fleet1_continue_journey": {
    "fleet1_continue_journey": {
      "log": "triggered fleet1_continue_journey",
      "_comments": [
        "# Untag capital planet",
        "# Move on to next capital"
      ],
      "from": {
        "remove_planet_flag": "fleet1_capital_destination",
        "log": "fleet 1 untagged planet"
      },
      "if": {
        "limit": {
          "any_country": {
            "exists": "capital_scope",
            "capital_scope": {
              "has_planet_flag": "fleet1_capital_destination",
              "solar_system": {
                "NOT": {}
              }
            }
          },
          "fleet_event": {},
          "_comments": [
            "# Or return home and reset in 10 years"
          ],
          "else_if": {
            "limit": {
              "auto_move_to_planet": {
                "target": "event_target:caravaneer_home_star",
                "clear_auto_move_on_arrival": "no",
                "arrival_effect": "fleet1_reset_journey"
              },
              "log": "fleet 1 returning home"
            },
            "else": {
              "random_galaxy_planet": {
                "auto_move_to_planet": {
                  "target": "event_target:temporary_fleet1_destination",
                  "clear_auto_move_on_arrival": "no",
                  "arrival_effect": "fleet1_continue_journey"
                },
                "log": "fleet 1 taking a detour, home is dead/not yet reestablished"
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 1756
  },
  "fleet1_reset_journey": {
    "fleet1_reset_journey": {
      "fleet_event": {}
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 1802
  },
  "fleet2_continue_journey": {
    "fleet2_continue_journey": {
      "log": "triggered fleet2_continue_journey",
      "_comments": [
        "# Untag capital planet",
        "# Move on to next capital"
      ],
      "from": {
        "remove_planet_flag": "fleet2_capital_destination",
        "log": "fleet 2 untagged planet"
      },
      "if": {
        "limit": {
          "any_country": {
            "exists": "capital_scope",
            "capital_scope": {
              "has_planet_flag": "fleet2_capital_destination",
              "solar_system": {
                "NOT": {}
              }
            }
          },
          "fleet_event": {},
          "_comments": [
            "# Or return home and reset in 10 years"
          ],
          "else_if": {
            "limit": {
              "auto_move_to_planet": {
                "target": "event_target:caravaneer_home_star",
                "clear_auto_move_on_arrival": "no",
                "arrival_effect": "fleet2_reset_journey"
              },
              "log": "fleet 2 returning home"
            },
            "else": {
              "random_galaxy_planet": {
                "auto_move_to_planet": {
                  "target": "event_target:temporary_fleet2_destination",
                  "clear_auto_move_on_arrival": "no",
                  "arrival_effect": "fleet2_continue_journey"
                },
                "log": "fleet 2 taking a detour, home is dead/not yet reestablished"
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 1809
  },
  "fleet2_reset_journey": {
    "fleet2_reset_journey": {
      "fleet_event": {}
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 1855
  },
  "fleet3_continue_journey": {
    "fleet3_continue_journey": {
      "log": "triggered fleet3_continue_journey",
      "_comments": [
        "# Untag capital planet",
        "# Move on to next capital"
      ],
      "from": {
        "remove_planet_flag": "fleet3_capital_destination",
        "log": "fleet 3 untagged planet"
      },
      "if": {
        "limit": {
          "any_country": {
            "exists": "capital_scope",
            "capital_scope": {
              "has_planet_flag": "fleet3_capital_destination",
              "solar_system": {
                "NOT": {}
              }
            }
          },
          "fleet_event": {},
          "_comments": [
            "# Or return home and reset in 10 years"
          ],
          "else_if": {
            "limit": {
              "auto_move_to_planet": {
                "target": "event_target:caravaneer_home_star",
                "clear_auto_move_on_arrival": "no",
                "arrival_effect": "fleet3_reset_journey"
              },
              "log": "fleet 3 returning home"
            },
            "else": {
              "random_galaxy_planet": {
                "auto_move_to_planet": {
                  "target": "event_target:temporary_fleet3_destination",
                  "clear_auto_move_on_arrival": "no",
                  "arrival_effect": "fleet3_continue_journey"
                },
                "log": "fleet 3 taking a detour, home is dead/not yet reestablished"
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 1862
  },
  "fleet3_reset_journey": {
    "fleet3_reset_journey": {
      "fleet_event": {}
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 1908
  },
  "recalculate_consecrated_world_modifier": {
    "recalculate_consecrated_world_modifier": {
      "switch": {
        "trigger": "has_modifier",
        "consecrated_modifier_12": {
          "consecrated_modifier_11": {
            "consecrated_modifier_10": {
              "consecrated_modifier_9": {
                "consecrated_modifier_8": {
                  "consecrated_modifier_7": {
                    "consecrated_modifier_6": {
                      "consecrated_modifier_5": {
                        "consecrated_modifier_4": {
                          "consecrated_modifier_3": {
                            "consecrated_modifier_2": {
                              "consecrated_modifier_1": {},
                              "if": {
                                "limit": {
                                  "check_variable": {
                                    "which": "consecrated_variable",
                                    "value >": "12"
                                  }
                                },
                                "add_modifier": {
                                  "modifier": "consecrated_modifier_12",
                                  "days": "-1"
                                }
                              },
                              "else_if": {
                                "limit": {
                                  "check_variable": {
                                    "which": "consecrated_variable",
                                    "value": "1"
                                  }
                                },
                                "add_modifier": {
                                  "modifier": "consecrated_modifier_1",
                                  "days": "-1"
                                }
                              },
                              "else": {}
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 1913
  },
  "create_ratling_species_effect": {
    "create_ratling_species_effect": {
      "_comments": [
        "# Create the base species"
      ],
      "create_species": {
        "name": "NAME_Ketling",
        "plural": "NAME_Ketlings",
        "class": "MAM",
        "portrait": "mam_rat",
        "namelist": "REP4",
        "traits": {
          "trait": "trait_fleeting"
        },
        "effect": {
          "if": {
            "limit": {
              "exists": "event_target:ratling_capital"
            },
            "create_species": {
              "is_mod": "yes",
              "name": "NAME_Ketling",
              "plural": "NAME_Ketlings",
              "class": "MAM",
              "portrait": "mam_rat",
              "homeworld": "event_target:ratling_capital",
              "namelist": "REP4",
              "traits": {
                "trait": "trait_fleeting"
              },
              "effect": {
                "save_global_event_target_as": "ratling_species"
              }
            }
          },
          "create_species": {
            "is_mod": "yes",
            "name": "NAME_Caravaneer_Fleet3_species",
            "plural": "NAME_Caravaneer_Fleet3_species_plural",
            "class": "MAM",
            "portrait": "mam_rat",
            "namelist": "MAM4",
            "traits": {
              "trait": "trait_fleeting"
            },
            "effect": {
              "save_global_event_target_as": "racket_species"
            }
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 2078
  },
  "create_racket_robot_effect": {
    "create_racket_robot_effect": {
      "create_species": {
        "name": "NAME_Caravaneer_Fleet3_robot",
        "plural": "NAME_Caravaneer_Fleet3_robot_plural",
        "class": "ROBOT",
        "namelist": "MACHINE4",
        "portrait": "default_robot",
        "traits": {
          "trait": "trait_robot_repurposed_hardware"
        },
        "effect": {
          "if": {
            "limit": {
              "change_species_characteristics": {},
              "save_global_event_target_as": "racket_robot_species"
            }
          },
          "create_leader": {
            "class": "official",
            "species": "event_target:racket_robot_species",
            "event_leader": "yes # prevents this leader from leading factions and winning",
            "name": "random",
            "skill": "5",
            "immortal": "yes"
          }
        }
      }
    },
    "_source_file": "caravaneer_scripted_effects.txt",
    "_line_number": 2146
  }
}